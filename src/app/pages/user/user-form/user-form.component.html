<div id="forms" class="page-layout simple fullwidth" fxLayout="column">

  <!-- HEADER -->
  <div class="header accent p-24 h-160" fxLayout="row" fxLayoutAlign="start center">
    <div fxLayout="column" fxLayoutAlign="center start">
      <div fxLayout="row" fxLayoutAlign="start center">
        <mat-icon class="secondary-text s-18">home</mat-icon>
        <mat-icon class="secondary-text s-16">chevron_right</mat-icon>
        <span class="secondary-text">Usuários</span>
      </div>
      <div class="h1 mt-16">Cadastro de usuários</div>
    </div>
  </div>
  <!-- / HEADER -->

  <!-- CONTENT -->
  <div class="content p-24">

    <div class="mb-24" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">

      <!-- REACTIVE FORM EXAMPLE -->

      <form class="mat-card mat-elevation-z4 p-24 mr-24" fxLayout="column" fxLayoutAlign="start" fxFlex="1 0 auto"
        name="form" [formGroup]="form">

        <div class="h2 mb-24">Novo usuário</div>

        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

          <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
            <mat-label>Login</mat-label>
            <input matInput formControlName="username" required>
            <mat-icon matSuffix class="secondary-text">account_box</mat-icon>
            <mat-error>
              {{
                form.get('username').hasError('required') ? 'Login é obrigatório!' :
                form.get('username').hasError('minlength') ? 'Tamanho mínimo de 5 caracteres' : '' 
              }}
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline" fxFlex="50" class="pl-4">
            <mat-label>Senha</mat-label>
            <input matInput formControlName="password" [type]="hide ? 'password' : 'text'">
            <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
            <mat-error>
              {{
                form.get('password').hasError('required') ? 'Senha é obrigatório!' :
                form.get('password').hasError('minlength') ? 'Tamanho mínimo de 6 caracteres' :
                form.get('password').hasError('maxlength') ? 'Tamanho máximo de 13 caracteres' : '' 
              }}
            </mat-error>
          </mat-form-field>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
          <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
            <mat-label>Nome</mat-label>
            <input matInput formControlName="fullName" required>
            <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
            <mat-error>Nome é obrigatório!</mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" fxFlex="50" class="pl-4">
            <mat-label>Email</mat-label>
            <input matInput formControlName="email" required>
            <mat-icon matSuffix class="secondary-text">email</mat-icon>
            <mat-error>
              {{ 
                form.get('email').hasError('required') ? 'Email é obrigatório!' : 
                form.get('email').hasError('email') ? 'Esse e-mail não é válido!' : ''
              }}
            </mat-error>
          </mat-form-field>

        </div>

        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
          <mat-form-field appearance="outline" fxFlex="100">
            <mat-label>Tipo de usuário</mat-label>
            <mat-select formControlName="role" required>
              <mat-option *ngFor="let role of roles" [value]="role.id">
                {{ role.name }}
              </mat-option>
            </mat-select>
            <mat-icon matSuffix class="secondary-text">outlined_flag</mat-icon>
            <mat-error>Tipo de usuário é obrigatório!</mat-error>
          </mat-form-field>

        </div>

        <div fxLayout="row" fxLayoutAlign="start center">
          <button mat-flat-button class="mr-4" (click)="cancel()" color="warn">Cancelar</button>
          <button mat-flat-button class="ml-4" [disabled]="!form.valid" (click)="save()" color="primary">Salvar</button>
        </div>
      </form>

    </div>

  </div>
  <!-- / CONTENT -->
</div>